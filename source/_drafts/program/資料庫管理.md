# 資料庫管理

## 簡介

此系列文章為觀看[【杰哥數位教室】資料庫系統管理課程](https://www.youtube.com/playlist?list=PLpbuzGqDFzkjVESK1m9zElyCER2xCiHU-)影片的學習筆記

[【杰哥數位教室】課堂教材](http://debussy.im.nuu.edu.tw/sjchen/DataBaseMan_Final.html) 

## 第1章、資料庫概論
### 使用資料庫系統的優點
    
- 避免資料重覆存放 (Data Redundancy)
    - 透過資料集中化，避免資料重複存放
- 避免資料不一致 (Inconsistency)
    - 確保任何更新的動作會自動地更新到其它重複的資料，以減少不一致現象
- 限制未授權的存取 Restricting Unauthorized Access
    - 提供適當的安全性與認証機制，針對資料庫的帳密存取權限
- 提供備份與回復功能 Providing Backup and Recovery
    - 確保資料能回到之前的狀態
- 安全性與完整性控制 (Security Constraints and Integrity Constraints)
    - 資料庫的集中控制讓DBA更容易從事安全性(Security)與完整性(Integrity)的限制
- 資料獨立性 (Data Independence)
    - 儲存方式的改變或資料庫結構的改變不會影響到上一層次的應用	

### View (觀點、景觀)
- 實際存在於資料庫的表格所衍生出來的關聯表格
- 不需以實體的形式存在，為一個虛擬表格 (Virtual Table)

### Meta-data
- 用來描述資料的資料，稱之為中繼資料 (Meta-data)
- 資料庫系統具有自我描述(Self-Description)的特性
    - 包含資料的型態、儲存格式、關係及各種限制、實際儲存結構，ex: 循序檔、索引檔
	
### ANSI/SPARC 三層式架構
- 外部層 (External Level)
    - 資料庫的部份資料，資料於不同使用者有不同的呈現
- 概念層 (Conceptual Level)
    - 是資料庫儲存的整體性資料
- 內部層 (Internal Level)
    - 資料實際儲存方式
    - create table command
		
### 資料獨立性 Data Independence
- 目的 : 修改資料庫的某一層架構時，不影響到較高層式架構
    - 邏輯資料獨立性 (Logical Data Independence)
        - 改變概念綱要時，不需要跟著改變外部綱要及其應用程式
    - 實體資料獨立性 (Physical Data Independence)
        - 改變內部綱要時，不需要跟著改變概念綱要和外部綱要
		
### 資料庫架構
- 主從式架構 Client/Server
    - 可藉由Client端本身的運算能力，分擔Server端處理資料的負荷。
    - 當Server種類變多，Client也需因此而安裝多個介面
    - 當Client增多時，Server的負荷也會變重
- 多層式架構 Multi-Tier Architecture( 3-tier architecture)
    - 將應用程式代理者 (Application agent) 置於Client與Server中間，存放企業應用邏輯 (Business logic)，以處理Client與Server間往來的業務
    - 若規模不斷擴大，中間端將成為瓶頸
- 分散式資料庫系統 Distributed Database System
    - 可視為單一資料庫系統，但實際上資料卻是分散在網路的多個地方
    - 透通性 (Transparency)：不需要了解細節，即可正常運作的特性
        - 存取透通性
        - 位置透通性
			
### ODBC
- Server端資料庫系統與Client端應用程式之間的介面
- ODBC是一種讓各種資料庫都具有相同的存取資料介面的程式
    - ODBC如何在 Client  Side 和 Server Side 之間運作?

### 資料冗餘
- 資料冗餘帶來的問題?
- 何謂控制冗餘，為何有控制冗餘的發生?

### 資料模型

- 階層式 (hierarchical)
- 網路式 (network)
- 關聯式 (relation)
- 物件導向 (object-oriented)

四種比較表格圖


## 第2章、關聯式資料庫
### 關聯
R (A1,A2,A3)

### 關聯的特性
- Tuple之間沒有次序性
- Attribute之間沒有次序性
- Attribute值皆為基元值 
- 關聯中，不含重複的Tuple
	
### 鍵值 (Key Value)
- 超鍵(Super key)
    - 由關聯中的一個或多個的屬性所構成、具有唯一識別性的屬性集合即為超鍵
        - 最小的超鍵可能僅為單一屬性
        - 最大的超鍵為所有屬性的集合
- 候選鍵(Candidate Key)
    - 具有最少屬性集合的超鍵
    - 能唯一識別表格中各不同Tuple資料的最少屬性集合
    - 具備唯一性和最小性
- 主鍵(Primary Key)
    - 選鍵中選出其一，用來代表資料的唯一值
    - 主鍵不可為空值(Null Value)
    - 畫一條實底線表示
- 替代鍵(Alternate Key)
    - 除了主鍵之外的其他候選鍵
- 外來鍵(Foreign Key)
    - 外來鍵是一個關聯中的屬性集合，而此集合在其它關聯中扮演主鍵 (候選鍵) 的角色
    - 外來鍵不具唯一性
    - 外來鍵的內含值可以為空值
		
### 完整性限制 Integrity Constraint
- 個體完整性限制 Entity integrity constraint
    - 主鍵不可為空值，也不可以重覆出現
- 參考完整性限制 Referential integrity constraint
    - 外來鍵可以是空值，或是一個相匹配於其它關聯之主鍵(候選鍵)的值
- 定義域完整性限制 Domain Integrity Constraints
    - 屬性值需合乎該屬性之定義域範圍
    - 屬性值需為基元值

### 資料操作必須考慮到資料完整性限制
-  Insert、Update、Delete不可違反完整性限制，如若違反，可採下列三種方式之一
    - 限制 Restricted
        - 若欲XX之資料有被參考到，則不允許XX
    - 連帶 Cascade
        - 若欲XX之資料有被參考到，則同時XX帶有相同參考外來鍵值的記錄
    - 空值化 Nullify
        - 若欲XX之資料有被參考到，則同時將該參考外來鍵值空值化